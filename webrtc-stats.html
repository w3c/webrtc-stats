<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link href="webrtc-stats.css" rel="stylesheet" type="text/css">
    <title>
      Identifiers for WebRTC's Statistics API
    </title>
    <script class="remove" src="https://www.w3.org/Tools/respec/respec-w3c-common">
    //<![CDATA[
    // keep this comment
    //]]>
    </script>
    <script class="remove" src="webrtc-stats.js" type="text/javascript">
    //<![CDATA[
    // keep this comment
    //]]>
    </script>
  </head>
  <body>
    <section id="abstract">
      <p>
        This document defines a set of Javascript APIs that allow access to the statistical
        information about a PeerConnection.
      </p>
    </section>
    <section id="sotd">
      <!-- Status of the draft -->
      <p>
        This document is incomplete, and as such is not yet suitable for implementation. However,
        early experimentation is encouraged.
      </p>
    </section><!-- NB: [[!..]] normative refs, [[..]] informative refs-->
    <!-- based on the wiki page https://www.w3.org/2011/04/webrtc/wiki/Stats -->
    <section class="informative">
      <h2>
        Introduction
      </h2>
      <p>
        Audio, video, or data packets transmitted over a peer-connection can be lost, and
        experience varying amounts of network delay. A web application implementing WebRTC expects
        to monitor the performance of the underlying network and media pipeline.
      </p>
      <p>
        This document defines the APIs and statistic identifiers used by the web application to
        extract metrics from the user agent.
      </p>
    </section>
    <section id="conformance">
      <p>
        This specification defines the conformance criteria that applies to a single product: the
        <em>user agent</em>.
      </p>
      <p>
        Implementations that use ECMAScript to implement the APIs defined in this specification
        <em class="rfc2119" title="MUST">MUST</em> implement them in a manner consistent with the
        ECMAScript Bindings defined in the Web IDL specification [[WEBIDL]], as this document uses
        that specification and terminology.
      </p>
    </section>
    <section>
      <h2>
        Terminology
      </h2>
      <p>
        The <code><a href=
        "https://www.w3.org/TR/2014/REC-html5-20141028/webappapis.html#eventhandler">EventHandler</a></code>
        represents a callback used for event handlers as defined in [[!HTML5]].
      </p>
      <p>
        The concepts <dfn><a href="https://www.w3.org/TR/2014/REC-html5-20141028/webappapis.html#queue-a-task">queue
        a task</a></dfn>, and <dfn><a href=
        "https://www.w3.org/TR/2014/REC-html5-20141028/webappapis.html#fire-a-simple-event">fires a simple
        event</a></dfn> are defined in [[!HTML5]].
      </p>
      <p>
        The terms <dfn>event</dfn>, <dfn><a href=
        "https://www.w3.org/TR/2014/REC-html5-20141028/webappapis.html#event-handlers">event handlers</a></dfn>, and
        <dfn><a href="https://www.w3.org/TR/2014/REC-html5-20141028/webappapis.html#event-handler-event-type">event
        handler event types</a></dfn> are defined in [[!HTML5]].
      </p>
      <p>
        The terms <dfn>MediaStream</dfn>, <dfn>MediaStreamTrack</dfn>, and <dfn>Consumer</dfn> are
        defined in [[!GETUSERMEDIA]].
      </p>
      <p>
        The terms <dfn>RTCPeerConnection</dfn>, <dfn>RTCDataChannel</dfn> are defined in
        [[!WEBRTC]].
      </p>
    </section><!-- VS: getStats() remains in base spec! -->
    <section id="rtctatstype-*">
      <h2>
        RTCStatsType
      </h2><code>RTCStatsType</code> object is initialized to the name of the dictionary that the
      <code>RTCStats</code> represents.
      <div class="note">
        OPEN ISSUE: Need to define an IANA registry for the RTCStatsType and populate it with the
        following set as baseline.
      </div>
      <section id="rtcstatstype-str*">
        <h3>
          RTCStatsType DOMString
        </h3><!--
        As per discussions: Move enum to a string that is in a registry
        <div class="note">
          Updated the enum in [[!WEBRTC]]: to use lowercasenospacesordashes
          name convention, and added new enum values.
        </div> -->
        <!-- TODO: point to the actual stats dictionaries  -->
        <!-- <dl class="idl" title="DOMString RTCStatsType"> -->
        <p>
          <var>RTCStatsType</var> is a equal to one of the following strings defined in
          [IANA-TOBE]:
        </p>
        <dl>
          <dt>
            <code>"inboundrtp"</code>
          </dt>
          <dd>
            <p>
              Statistics for the inbound RTP stream that is currently received with this
              <code>RTCPeerConnection</code> object. It is accessed by the
              <code><a>RTCInboundRTPStreamStats</a></code>.
            </p>
          </dd>
          <dt>
            <code>"outboundrtp"</code>
          </dt>
          <dd>
            <p>
              Statistics for the outbound RTP stream that is currently sent with this
              <code>RTCPeerConnection</code> object. It is accessed by the
              <code><a>RTCOutboundRTPStreamStats</a></code>
            </p>
          </dd>
          <dt>
            <code>"session"</code>
          </dt>
          <dd>
            <p>
              Related to the <code>RTCDataChannel</code> and <code>RTCPeerConnection</code> object.
            </p>
          </dd>
          <dt>
            <code>"datachannel"</code>
          </dt>
          <dd>
            <p>
              Statistics related to each <code>RTCDataChannel</code> id.
            </p>
          </dd>
          <dt>
            <code>"track"</code>
          </dt>
          <dd>
            <p>
              Contains the sequence of tracks related to a specific media stream and the
              corresponding media-level metrics.
            </p>
          </dd>
          <dt>
            <code>"transport"</code>
          </dt>
          <dd>
            <p>
              Transport statistics related to the <code>RTCPeerConnection</code> object.
            </p>
          </dd>
          <dt>
            <code>"candidatepair"</code>
          </dt>
          <dd>
            <p>
              ICE candidate pair statistics related to the <code>RTCIceTransport</code> objects.
            </p>
          </dd>
          <dt>
            <code>"localcandidate"</code>
          </dt>
          <dd>
            <p>
              ICE local candidate statistics related to the <code>RTCIceTransport</code> objects.
            </p>
          </dd>
          <dt>
            <code>"remotecandidate"</code>
          </dt>
          <dd>
            <p>
              ICE remote candidate statistics related to the <code>RTCIceTransport</code> objects.
            </p>
          </dd>
        </dl>
      </section>
      <section id="streamstats-dict*">
        <h3>
          <dfn>RTCRTPStreamStats</dfn> dictionary
        </h3>
        <div>
          <pre class="idl">dictionary RTCRTPStreamStats : RTCStats {
             DOMString     ssrc;
             DOMString     associateStatsId;
             boolean       isRemote = false;
             DOMString     mediaType;
             DOMString     mediaTrackId;
             DOMString     transportId;
             DOMString     codecId;
             unsigned long firCount;
             unsigned long pliCount;
             unsigned long nackCount;
             unsigned long sliCount;
};</pre>
          <section>
            <h2>
              Dictionary <a class="idlType">RTCRTPStreamStats</a> Members
            </h2>
            <dl data-link-for="RTCRTPStreamStats" data-dfn-for="RTCRTPStreamStats" class=
            "dictionary-members">
              <dt>
                <dfn><code>ssrc</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd></dd>
              <dt>
                <dfn><code>associateStatsId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  The <code>associateStatsId</code> is used for looking up the corresponding
                  (local/remote) <code><a>RTCStats</a></code> object for a given SSRC.
                </p>
              </dd>
              <dt>
                <dfn><code>isRemote</code></dfn> of type <span class=
                "idlMemberType"><a>boolean</a></span>, defaulting to <code>false</code>
              </dt>
              <dd>
                <p>
                  <code>false</code> indicates that the statistics are measured locally, while
                  <code>true</code> indicates that the measurements were done at the remote
                  endpoint and reported in an RTCP RR/XR.
                </p>
              </dd>
              <dt>
                <dfn><code>mediaType</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  Either "<code>audio</code>" or "<code>video</code>". This MUST match the media
                  type part of the information in the corresponding <code><a>codec</a></code>
                  member of <code>RTCCodecStats</code>.
                </p>
              </dd>
              <dt>
                <dfn><code>mediaTrackId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd></dd>
              <dt>
                <dfn><code>transportId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  It is a unique identifier that is associated to the object that was inspected to
                  produce the <code>RTCTransportStats</code> associated with this RTP stream.
                </p>
              </dd>
              <dt>
                <dfn><code>codecId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd></dd>
              <dt>
                <dfn><code>firCount</code></dfn> of type <span class="idlMemberType"><a>unsigned
                long</a></span>
              </dt>
              <dd>
                <p>
                  Count the total number of Full Intra Request (FIR) packets received by the
                  sender. This metric is only valid for video and is sent by receiver. Calculated
                  as defined in [[!RFC5104]] section 4.3.1. and does not use the metric indicated
                  in [[RFC2032]], because it was deprecated by [[RFC4587]].
                </p>
              </dd>
              <dt>
                <dfn><code>pliCount</code></dfn> of type <span class="idlMemberType"><a>unsigned
                long</a></span>
              </dt>
              <dd>
                <p>
                  Count the total number of Packet Loss Indication (PLI) packets received by the
                  sender and is sent by receiver. Calculated as defined in [[!RFC4585]] section
                  6.3.1.
                </p>
              </dd>
              <dt>
                <dfn><code>nackCount</code></dfn> of type <span class="idlMemberType"><a>unsigned
                long</a></span>
              </dt>
              <dd>
                <p>
                  Count the total number of Negative ACKnowledgement (NACK) packets received by the
                  sender and is sent by receiver. Calculated as defined in [[!RFC4585]] section
                  6.2.1.
                </p>
              </dd>
              <dt>
                <dfn><code>sliCount</code></dfn> of type <span class="idlMemberType"><a>unsigned
                long</a></span>
              </dt>
              <dd>
                <p>
                  Count the total number of Slice Loss Indication (SLI) packets received by the
                  sender. This metric is only valid for video and is sent by receiver. Calculated
                  as defined in [[!RFC4585]] section 6.3.2.
                </p>
              </dd>
            </dl>
          </section>
        </div>
        <section id="codec-dict*">
          <h3>
            <dfn>RTCCodecStats</dfn> dictionary
          </h3>
          <div>
            <pre class="idl">dictionary RTCCodecStats : RTCStats {
             unsigned long payloadType;
             DOMString     codec;
             unsigned long clockRate;
             unsigned long channels;
             DOMString     parameters;
             DOMString     implementation;
};</pre>
            <section>
              <h2>
                Dictionary <a class="idlType">RTCCodecStats</a> Members
              </h2>
              <dl data-link-for="RTCCodecStats" data-dfn-for="RTCCodecStats" class="dictionary-members">
                <dt>
                  <dfn><code>payloadType</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Payload type as used in RTP encoding.
                  </p>
                </dd>
                <dt>
                  <dfn><code>codec</code></dfn> of type <span class=
                  "idlMemberType"><a>DOMString</a></span>
                </dt>
                <dd>
                  <p>
                    e.g., video/vp8 or equivalent.
                  </p>
                </dd>
                <dt>
                  <dfn><code>clockRate</code></dfn> of type <span class="idlMemberType"><a>unsigned
                  long</a></span>
                </dt>
                <dd>
                  <p>
                    Represents the media sampling rate.
                  </p>
                </dd>
                <dt>
                  <dfn><code>channels</code></dfn> of type <span class="idlMemberType"><a>unsigned
                  long</a></span>
                </dt>
                <dd>
                  <p>
                    Use 2 for stereo, missing for most other cases.
                  </p>
                </dd>
                <dt>
                  <dfn><code>parameters</code></dfn> of type <span class=
                  "idlMemberType"><a>DOMString</a></span>
                </dt>
                <dd>
                  <p>
                    From the SDP description line.
                  </p>
                </dd>
                <dt>
                  <dfn><code>implementation</code></dfn> of type <span class=
                  "idlMemberType"><a>DOMString</a></span>
                </dt>
                <dd>
                  <p>
                    Identifies the implementation used. This is useful for diagnosing
                    interoperability issues.
                  </p>
                  <p class="fingerprint">
                    If too much information is given here, it increases the fingerprint surface.
                    Since it is only given for active tracks, the incremental exposure is small.
                  </p>
                </dd>
              </dl>
            </section>
          </div>
        </section>
        <section id="inboundrtpstats-dict*">
          <h3>
            RTCInboundRTPStreamStats dictionary
          </h3>
          <p>
            <dfn>RTCInboundRTPStreamStats</dfn> dictionary represents the measurement metrics for
            the incoming media stream.
          </p>
          <div>
            <pre class="idl">dictionary RTCInboundRTPStreamStats : RTCRTPStreamStats {
             unsigned long      packetsReceived;
             unsigned long long bytesReceived;
             unsigned long      packetsLost;
             double             jitter;
             double             fractionLost;
             unsigned long      packetsDiscarded;
             unsigned long      packetsRepaired;
};</pre>
            <section>
              <h2>
                Dictionary <a class="idlType">RTCInboundRTPStreamStats</a> Members
              </h2>
              <dl data-link-for="RTCInboundRTPStreamStats" data-dfn-for="RTCInboundRTPStreamStats"
              class="dictionary-members">
                <dt>
                  <dfn><code>packetsReceived</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Total number of RTP packets received for this SSRC. Calculated as defined in
                    [[!RFC3550]] section 6.4.1.
                  </p>
                </dd>
                <dt>
                  <dfn><code>bytesReceived</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long long</a></span>
                </dt>
                <dd>
                  <p>
                    Total number of bytes received for this SSRC. Calculated as defined in
                    [[!RFC3550]] section 6.4.1.
                  </p>
                </dd>
                <dt>
                  <dfn><code>packetsLost</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Total number of RTP packets lost for this SSRC. Calculated as defined in
                    [[!RFC3550]] section 6.4.1.
                  </p>
                </dd>
                <dt>
                  <dfn><code>jitter</code></dfn> of type <span class=
                  "idlMemberType"><a>double</a></span>
                </dt>
                <dd>
                  <p>
                    Packet Jitter measured in seconds for this SSRC. Calculated as defined in
                    [[!RFC3550]] section 6.4.1.
                  </p>
                </dd>
                <dt>
                  <dfn><code>fractionLost</code></dfn> of type <span class=
                  "idlMemberType"><a>double</a></span>
                </dt>
                <dd>
                  <p>
                    The fraction packet loss reported for this SSRC. Calculated as defined in
                    [[!RFC3550]] section 6.4.1 and Appendix A.3.
                  </p>
                </dd>
                <dt>
                  <dfn><code>packetsDiscarded</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                  The cumulative number of RTP packets discarded by the jitter buffer
                  due to late or early-arrival, i.e., these packets are not played out.
                  RTP packets discarded due to packet duplication are not reported in
                  this metric [[XRBLOCK-STATS]]. Calculated as defined in
                  [[!RFC7002]] section 3.2 and Appendix A.a.
                  </p>
                </dd>
                <dt>
                  <dfn><code>packetsRepaired</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                  The cumulative number of lost RTP packets repaired after applying an
                  error-resilience mechanism [[XRBLOCK-STATS]]. It is measured for the
                  primary source RTP packets and only counted for RTP packets that have
                  no further chance of repair. To clarify, the value is upper-bound to
                  the cumulative number of lost packets. Calculated as defined in
                  [[!RFC7509]] section 3.1 and Appendix A.b.
                  </p>
                </dd>
              </dl>
            </section>
          </div>
        </section>
        <section id="outboundrtpstats-dict*">
          <h3>
            RTCOutboundRTPStreamStats dictionary
          </h3>
          <p>
            <dfn>RTCOutboundRTPStreamStats</dfn> dictionary represents the measurement metrics for
            the outgoing media stream.
          </p>
          <div>
            <pre class="idl">dictionary RTCOutboundRTPStreamStats : RTCRTPStreamStats {
             unsigned long      packetsSent;
             unsigned long long bytesSent;
             double             targetBitrate;
             double             roundTripTime;
};</pre>
            <section>
              <h2>
                Dictionary <a class="idlType">RTCOutboundRTPStreamStats</a> Members
              </h2>
              <dl data-link-for="RTCOutboundRTPStreamStats" data-dfn-for=
              "RTCOutboundRTPStreamStats" class="dictionary-members">
                <dt>
                  <dfn><code>packetsSent</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Total number of RTP packets sent for this SSRC. Calculated as defined in
                    [[!RFC3550]] section 6.4.1.
                  </p>
                </dd>
                <dt>
                  <dfn><code>bytesSent</code></dfn> of type <span class="idlMemberType"><a>unsigned
                  long long</a></span>
                </dt>
                <dd>
                  <p>
                    Total number of bytes sent for this SSRC. Calculated as defined in [[!RFC3550]]
                    section 6.4.1.
                  </p>
                </dd>
                <dt>
                  <dfn><code>targetBitrate</code></dfn> of type <span class=
                  "idlMemberType"><a>double</a></span>
                </dt>
                <dd>
                  <p>
                    It is the current target bitrate configured for this particular SSRC and
                    is the Transport Independent Application Specific (TIAS) bitrate [[!RFC3890]].
                    Typically, the target bitrate is a configuration parameter provided to the
                    codec's encoder and does not count the size of the IP or other transport
                    layers like TCP or UDP. It is measured in bits per second and the bitrate
                    is calculated over a 1 second window.
                  </p>
                </dd>
                <dt>
                  <dfn><code>roundTripTime</code></dfn> of type <span class=
                  "idlMemberType"><a>double</a></span>
                </dt>
                <dd>
                  <p>
                    Estimated round trip time (seconds) for this SSRC based on the RTCP timestamp.
                    Calculated as defined in [[!RFC3550]] section 6.4.1.
                  </p>
                </dd>
              </dl>
            </section>
          </div>
        </section><!-- TODO: EXAMPLE -->
        <section>
          <h4>
            Example
          </h4>
          <p>
            The following example code shows the association of remote statistics with local
            statistics in a <code>RTCStats</code> dictionary.
          </p><!-- <pre class="example highlight">
stats [
   dictionary (of type RTPoutboundStatsDictionary) {
      ssrc=1234
      id=foobar
      type=outboundrtp
      isRemote=false
      associateStatsId=barfoo
  },
  dictionary (of type RTPinboundStatsDictionary) {
      ssrc=1234
      id=barfoo
      type=inboundrtp
      isRemote=true
      associateStatsId=foobar
  }
]
          </pre> -->
        </section>
      </section>
      <section id="pcstats-dict*">
        <h3>
          <dfn>RTCPeerConnectionStats</dfn> dictionary
        </h3>
        <div>
          <pre class="idl">dictionary RTCPeerConnectionStats : RTCStats {
             unsigned long dataChannelsOpened;
             unsigned long dataChannelsClosed;
};</pre>
          <section>
            <h2>
              Dictionary <a class="idlType">RTCPeerConnectionStats</a> Members
            </h2>
            <dl data-link-for="RTCPeerConnectionStats" data-dfn-for="RTCPeerConnectionStats" class=
            "dictionary-members">
              <dt>
                <dfn><code>dataChannelsOpened</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the number of unique datachannels opened.
                </p>
              </dd>
              <dt>
                <dfn><code>dataChannelsClosed</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the number of unique datachannels closed.
                </p>
              </dd>
            </dl>
          </section>
        </div>
      </section>
      <section id="msstats-dict*">
        <h3>
          <dfn>RTCMediaStreamStats</dfn> dictionary
        </h3>
        <div>
          <pre class="idl">dictionary RTCMediaStreamStats : RTCStats {
             DOMString           streamIdentifier;
             sequence&lt;DOMString&gt; trackIds;
};</pre>
          <section>
            <h2>
              Dictionary <a class="idlType">RTCMediaStreamStats</a> Members
            </h2>
            <dl data-link-for="RTCMediaStreamStats" data-dfn-for="RTCMediaStreamStats" class=
            "dictionary-members">
              <dt>
                <dfn><code>streamIdentifier</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  <code>stream.id</code> property
                </p>
              </dd>
              <dt>
                <dfn><code>trackIds</code></dfn> of type <span class=
                "idlMemberType">sequence&lt;<a>DOMString</a>&gt;</span>
              </dt>
              <dd>
                <p>
                  This is the id of the stats object, not the <code>track.id</code>.
                </p>
              </dd>
            </dl>
          </section>
        </div>
        <section id="mststats-dict*">
          <h3>
            <dfn>RTCMediaStreamTrackStats</dfn> dictionary
          </h3>
          <p>
            An RTCMediaStreamTrackStats object represents the stats about a MediaStreamTrack's
            connection to the PeerConnection object for which one calls getStats.
          </p>
          <p>
            It appears in the stats as soon as it is attached (via addTrack, via addTransceiver,
            via ReplaceTrack on an RTPSender object, or via being created on an RTPReceiver
            object). If it is detached (via removeTrack or via replaceTrack), it continues to
            appear, but with the "detached" member set to True.
          </p>
          <div>
            <pre class="idl">dictionary RTCMediaStreamTrackStats : RTCStats {
             DOMString           trackIdentifier;
             boolean             remoteSource;
             boolean             ended;
             boolean             detached;
             sequence&lt;DOMString&gt; ssrcIds;
             unsigned long       frameWidth;
             unsigned long       frameHeight;
             double              framesPerSecond;
             unsigned long       framesSent;
             unsigned long       framesReceived;
             unsigned long       framesDecoded;
             unsigned long       framesDropped;
             unsigned long       framesCorrupted;
             double              audioLevel;
             double              echoReturnLoss;
             double              echoReturnLossEnhancement;
};</pre>
            <section>
              <h2>
                Dictionary <a class="idlType">RTCMediaStreamTrackStats</a> Members
              </h2>
              <dl data-link-for="RTCMediaStreamTrackStats" data-dfn-for="RTCMediaStreamTrackStats"
              class="dictionary-members">
                <dt>
                  <dfn><code>trackIdentifier</code></dfn> of type <span class=
                  "idlMemberType"><a>DOMString</a></span>
                </dt>
                <dd>
                  <p>
                    Represents the <code>track.id</code> property.
                  </p>
                </dd>
                <dt>
                  <dfn><code>remoteSource</code></dfn> of type <span class=
                  "idlMemberType"><a>boolean</a></span>
                </dt>
                <dd></dd>
                <dt>
                  <dfn><code>ended</code></dfn> of type <span class=
                  "idlMemberType"><a>boolean</a></span>
                </dt>
                <dd>
                  <p>
                    Reflects the "ended" state of the track.
                  </p>
                </dd>
                <dt>
                  <dfn><code>detached</code></dfn> of type <span class=
                  "idlMemberType"><a>boolean</a></span>
                </dt>
                <dd>
                  <p>
                    True if the track has been detached from the PeerConnection object. If true,
                    all stats reflect their values at the time when the track was detached.
                  </p>
                </dd>
                <dt>
                  <dfn><code>ssrcIds</code></dfn> of type <span class=
                  "idlMemberType">sequence&lt;<a>DOMString</a>&gt;</span>
                </dt>
                <dd></dd>
                <dt>
                  <dfn><code>frameWidth</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Only makes sense for video media streams and represents the width of the video
                    frame for this SSRC.
                  </p>
                </dd>
                <dt>
                  <dfn><code>frameHeight</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Only makes sense for video media streams and represents the height of the video
                    frame for this SSRC.
                  </p>
                </dd>
                <dt>
                  <dfn><code>framesPerSecond</code></dfn> of type <span class=
                  "idlMemberType"><a>double</a></span>
                </dt>
                <dd>
                  <p>
                    Only valid for video. It represents the nominal FPS value.
                  </p>
                </dd>
                <dt>
                  <dfn><code>framesSent</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Only valid for video. It represents the total number of frames sent for this
                    SSRC.
                  </p>
                </dd>
                <dt>
                  <dfn><code>framesReceived</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Only valid for video and when remoteSource is set to <code>true</code>. It
                    represents the total number of frames received for this SSRC.
                  </p>
                </dd>
                <dt>
                  <dfn><code>framesDecoded</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Only valid for video. It represents the total number of frames correctly
                    decoded for this SSRC. Same definition as <code>totalVideoFrames</code> in
                    Section 5 of [[!MEDIA-SOURCE]].
                  </p>
                </dd>
                <dt>
                  <dfn><code>framesDropped</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Only valid for video. Same definition as <code>droppedVideoFrames</code> in
                    Section 5 of [[!MEDIA-SOURCE]].
                  </p>
                </dd>
                <dt>
                  <dfn><code>framesCorrupted</code></dfn> of type <span class=
                  "idlMemberType"><a>unsigned long</a></span>
                </dt>
                <dd>
                  <p>
                    Only valid for video.Same definition as <code>corruptedVideoFrames</code> in
                    Section 5 of [[!MEDIA-SOURCE]].
                  </p>
                </dd>
                <dt>
                  <dfn><code>audioLevel</code></dfn> of type <span class=
                  "idlMemberType"><a>double</a></span>
                </dt>
                <dd>
                  <p>
                    Only valid for audio, and the value is between 0..1 (linear), where 1.0
                    represents <code>0 dBov</code>. Calculated as defined in [[!RFC6464]].
                  </p>
                </dd>
                <dt>
                  <dfn><code>echoReturnLoss</code></dfn> of type <span class=
                  "idlMemberType"><a>double</a></span>
                </dt>
                <dd>
                  <p>
                    Only present on audio tracks sourced from a microphone where echo cancellation
                    is applied. Calculated in decibels, as defined in [[!ECHO]] (2012) section
                    3.14.
                  </p>
                </dd>
                <dt>
                  <dfn><code>echoReturnLossEnhancement</code></dfn> of type <span class=
                  "idlMemberType"><a>double</a></span>
                </dt>
                <dd>
                  <p>
                    Only present on audio tracks sourced from a microphone where echo cancellation
                    is applied. Calculated in decibels, as defined in [[!ECHO]] (2012) section
                    3.15.
                  </p>
                </dd>
              </dl>
            </section>
          </div>
        </section>
      </section>
      <section id="dcstats-dict*">
        <h3>
          <dfn>RTCDataChannelStats</dfn> dictionary
        </h3>
        <div>
          <pre class="idl">dictionary RTCDataChannelStats : RTCStats {
             DOMString           label;
             DOMString           protocol;
             long                datachannelid;
             RTCDataChannelState state;
             unsigned long       messagesSent;
             unsigned long long  bytesSent;
             unsigned long       messagesReceived;
             unsigned long long  bytesReceived;
};</pre>
          <section>
            <h2>
              Dictionary <a class="idlType">RTCDataChannelStats</a> Members
            </h2>
            <dl data-link-for="RTCDataChannelStats" data-dfn-for="RTCDataChannelStats" class=
            "dictionary-members">
              <dt>
                <dfn><code>label</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd></dd>
              <dt>
                <dfn><code>protocol</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd></dd>
              <dt>
                <dfn><code>datachannelid</code></dfn> of type <span class=
                "idlMemberType"><a>long</a></span>
              </dt>
              <dd>
                <p>
                  the "id" attribute of the RTCDataChannel object
                </p>
              </dd>
              <dt>
                <dfn><code>state</code></dfn> of type <span class=
                "idlMemberType"><a>RTCDataChannelState</a></span>
              </dt>
              <dd></dd>
              <dt>
                <dfn><code>messagesSent</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of API "message" events sent.
                </p>
              </dd>
              <dt>
                <dfn><code>bytesSent</code></dfn> of type <span class="idlMemberType"><a>unsigned
                long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of payload bytes sent on this
                  <code>RTCDatachannel</code>, i.e., not including headers or padding.
                </p>
              </dd>
              <dt>
                <dfn><code>messagesReceived</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of API "message" events received.
                </p>
              </dd>
              <dt>
                <dfn><code>bytesReceived</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of bytes received on this
                  <code>RTCDatachannel</code>, i.e., not including headers or padding.
                </p>
              </dd>
            </dl>
          </section>
        </div>
      </section>
      <section id="transportstats-dict*">
        <h3>
          <dfn>RTCTransportStats</dfn> dictionary
        </h3>
        <p>
          A Transport carries a part of an SDP session, consisting of RTP and RTCP. When Bundle is
          in use, an SDP session will have only one Transport per Bundle group. When Bundle is not
          in use, there is one Transport per m-line.
        </p>
        <div>
          <pre class="idl">dictionary RTCTransportStats : RTCStats {
             unsigned long long bytesSent;
             unsigned long long bytesReceived;
             DOMString          rtcpTransportStatsId;
             boolean            activeConnection;
             DOMString          selectedCandidatePairId;
             DOMString          localCertificateId;
             DOMString          remoteCertificateId;
};</pre>
          <section>
            <h2>
              Dictionary <a class="idlType">RTCTransportStats</a> Members
            </h2>
            <dl data-link-for="RTCTransportStats" data-dfn-for="RTCTransportStats" class=
            "dictionary-members">
              <dt>
                <dfn><code>bytesSent</code></dfn> of type <span class="idlMemberType"><a>unsigned
                long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of payload bytes sent on this
                  <code>PeerConnection</code>, i.e., not including headers or padding.
                </p>
              </dd>
              <dt>
                <dfn><code>bytesReceived</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of bytes received on this
                  <code>PeerConnection</code>, i.e., not including headers or padding.
                </p>
              </dd>
              <dt>
                <dfn><code>rtcpTransportStatsId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  If RTP and RTCP are not multiplexed, this is the <code>id</code> of the transport
                  that gives stats for the RTCP component, and this record has only the RTP
                  component stats.
                </p>
              </dd>
              <dt>
                <dfn><code>activeConnection</code></dfn> of type <span class=
                "idlMemberType"><a>boolean</a></span>
              </dt>
              <dd>
                <p>
                  Set to <code>true</code> when transport is active.
                </p>
              </dd>
              <dt>
                <dfn><code>selectedCandidatePairId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  It is a unique identifier that is associated to the object that was inspected to
                  produce the <code>RTCIceCandidatePairStats</code> associated with this transport.
                </p>
              </dd>
              <dt>
                <dfn><code>localCertificateId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  For components where DTLS is negotiated, give local certificate.
                </p>
              </dd>
              <dt>
                <dfn><code>remoteCertificateId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  For components where DTLS is negotiated, give remote certificate.
                </p>
              </dd>
            </dl>
          </section>
        </div>
      </section>
      <section id="icecandidate-dict*">
        <h3>
          <dfn>RTCIceCandidateStats</dfn> dictionary
        </h3>
        <p>
          <code>RTCIceCandidateStats</code> reflects the properties of a
          <code>candidate</code> in Section 15.1 of [[!RFC5245]].
          It corresponds to a <code>RTCIceCandidate</code> object.
        </p>
        <div>
          <pre class="idl">dictionary RTCIceCandidateStats : RTCStats {
             DOMString                ip;
             long                     port;
             DOMString                protocol;
             RTCIceCandidateType      candidateType;
             long                     priority;
             DOMString                url;
};</pre>
          <section>
            <h2>
              Dictionary <a class="idlType">RTCIceCandidateStats</a> Members
            </h2>
            <dl data-link-for="RTCIceCandidateStats" data-dfn-for="RTCIceCandidateStats"
            class="dictionary-members">
              <dt>
                <dfn><code>ip</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  It is the IP address of the candidate, allowing for IPv4
                  addresses and IPv6 addresses, but fully qualified domain
                  names (FQDNs) are not allowed. See [[!RFC5245]] section
                  15.1 for details.
                </p>
              </dd>
              <dt>
                <dfn><code>port</code></dfn> of type <span class=
                "idlMemberType"><a>long</a></span>
              </dt>
              <dd>
                <p>
                  It is the port number of the candidate.
                </p>
              </dd>
              <dt>
                <dfn><code>protocol</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  Valid values for transport is one of <code>udp</code>
                  and <code>tcp</code>. Based
                  on the "transport" defined in [[!RFC5245]] section 15.1.
                </p>
              </dd>
              <dt>
                <dfn><code>candidateType</code></dfn> of type <span class=
                "idlMemberType"><a>RTCIceCandidateType</a></span>
              </dt>
              <dd>
                <p>
                  Thhis enumeration is defined in [[WEBRTC]].
                </p>
              </dd>
              <dt>
                <dfn><code>priority</code></dfn> of type <span class=
                "idlMemberType"><a>long</a></span>
              </dt>
              <dd>
                <p>
                  Calculated as defined in [[!RFC5245]] section 15.1.
                </p>
              </dd>
              <dt>
                <dfn><code>url</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  The URL of the TURN or STUN server indicated in the
                  that translated this IP address. It is the URL address
                  surfaced in an <code>RTCPeerConnectionIceEvent</code>.
                </p>
              </dd>
            </dl>
          </section>
        </div>
      </section>
      <section id="candidatepair-dict*">
        <h3>
          <dfn>RTCIceCandidatePairStats</dfn> dictionary
        </h3>
        <div>
          <pre class="idl">dictionary RTCIceCandidatePairStats : RTCStats {
             DOMString                     transportId;
             DOMString                     localCandidateId;
             DOMString                     remoteCandidateId;
             RTCStatsIceCandidatePairState state;
             unsigned long long            priority;
             boolean                       nominated;
             boolean                       writable;
             boolean                       readable;
             unsigned long long            bytesSent;
             unsigned long long            bytesReceived;
             double                        roundTripTime;
             double                        availableOutgoingBitrate;
             double                        availableIncomingBitrate;
             unsigned long long            requestsReceived;
             unsigned long long            requestsSent;
             unsigned long long            responsesReceived;
             unsigned long long            responsesSent;
             unsigned long long            retransmissionsSent;
             unsigned long long            consentRequestsReceived;
             unsigned long long            consentRequestsSent;
             unsigned long long            consentResponsesReceived;
             unsigned long long            consentResponsesSent;
};</pre>
          <section>
            <h2>
              Dictionary <a class="idlType">RTCIceCandidatePairStats</a> Members
            </h2>
            <dl data-link-for="RTCIceCandidatePairStats" data-dfn-for="RTCIceCandidatePairStats"
            class="dictionary-members">
              <dt>
                <dfn><code>transportId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  It is a unique identifier that is associated to the object that was inspected to
                  produce the <code>RTCTransportStats</code> associated with this candidate pair.
                </p>
              </dd>
              <dt>
                <dfn><code>localCandidateId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  It is a unique identifier that is associated to the object that was inspected to
                  produce the <code>RTCIceCandidateAttributes</code> for the local candidate
                  associated with this candidate pair.
                </p>
              </dd>
              <dt>
                <dfn><code>remoteCandidateId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  It is a unique identifier that is associated to the object that was inspected to
                  produce the <code>RTCIceCandidateAttributes</code> for the remote candidate
                  associated with this candidate pair.
                </p>
              </dd>
              <dt>
                <dfn><code>state</code></dfn> of type <span class=
                "idlMemberType"><a>RTCStatsIceCandidatePairState</a></span>
              </dt>
              <dd>
                <p>
                  Represents the state of the checklist for the local and remote candidates in a
                  pair.
                </p>
              </dd>
              <dt>
                <dfn><code>priority</code></dfn> of type <span class="idlMemberType"><a>unsigned
                long long</a></span>
              </dt>
              <dd>
                <p>
                  Calculated from candidate priorities as defined in [[!RFC5245]] section 5.7.2.
                </p>
              </dd>
              <dt>
                <dfn><code>nominated</code></dfn> of type <span class=
                "idlMemberType"><a>boolean</a></span>
              </dt>
              <dd>
                <p>
                  Related to updating the nominated flag described in Section 7.1.3.2.4 of
                  [[!RFC5245]].
                </p>
              </dd>
              <dt>
                <dfn><code>writable</code></dfn> of type <span class=
                "idlMemberType"><a>boolean</a></span>
              </dt>
              <dd>
                <p>
                  Has gotten ACK to an ICE request.
                </p>
              </dd>
              <dt>
                <dfn><code>readable</code></dfn> of type <span class=
                "idlMemberType"><a>boolean</a></span>
              </dt>
              <dd>
                <p>
                  Has gotten a valid incoming ICE request.
                </p>
              </dd>
              <dt>
                <dfn><code>bytesSent</code></dfn> of type <span class="idlMemberType"><a>unsigned
                long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of payload bytes sent on this candidate pair, i.e.,
                  not including headers or padding.
                </p>
              </dd>
              <dt>
                <dfn><code>bytesReceived</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of payload bytes received on this candidate pair,
                  i.e., not including headers or padding.
                </p>
              </dd>
              <dt>
                <dfn><code>roundTripTime</code></dfn> of type <span class=
                "idlMemberType"><a>double</a></span>
              </dt>
              <dd>
                <p>
                  Represents the RTT computed by the STUN connectivity checks
                  [[!STUN-PATH-CHAR]] as well as consent checks [[!RFC7675]].
                </p>
              </dd>
              <dt>
                <dfn><code>availableOutgoingBitrate</code></dfn> of type <span class=
                "idlMemberType"><a>double</a></span>
              </dt>
              <dd>
                <p>
                  It is calculated by the underlying congestion control by combining the available
                  bitrate for all the outgoing media streams. The bitrate measurement does not
                  count the size of the IP or other transport layers like TCP or UDP. It is
                  similar to the TIAS defined in [[!RFC3890]], i.e., it is measured in bits per
                  second and the bitrate is calculated over a 1 second window.
                </p>
              </dd>
              <dt>
                <dfn><code>availableIncomingBitrate</code></dfn> of type <span class=
                "idlMemberType"><a>double</a></span>
              </dt>
              <dd>
                <p>
                  It is calculated by the underlying congestion control by combining the available
                  bitrate for all the incoming media streams. The bitrate measurement does not
                  count the size of the IP or other transport layers like TCP or UDP. It is
                  similar to the TIAS defined in [[!RFC3890]], i.e., it is measured in bits per
                  second and the bitrate is calculated over a 1 second window.
                </p>
              </dd>
              <dt>
                <dfn><code>requestsReceived</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of connectivity check requests received (includes retransmissions).
                </p>
              </dd>
              <dt>
                <dfn><code>requestsSent</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of connectivity check requests sent (does not include retransmissions).
                </p>
              </dd>
              <dt>
                <dfn><code>responsesReceived</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of connectivity check responses received.
                </p>
              </dd>
              <dt>
                <dfn><code>responsesSent</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of connectivity check responses sent.
                </p>
              </dd>
              <dt>
                <dfn><code>retransmissionsSent</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of connectivity check retransmissions sent.
                </p>
              </dd>
              <dt>
                <dfn><code>consentRequestsReceived</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of consent requests received.
                </p>
              </dd>
              <dt>
                <dfn><code>consentRequestsSent</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of consent requests sent.
                </p>
              </dd>
              <dt>
                <dfn><code>consentResponsesReceived</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of consent responses received.
                </p>
              </dd>
              <dt>
                <dfn><code>consentResponsesSent</code></dfn> of type <span class=
                "idlMemberType"><a>unsigned long long</a></span>
              </dt>
              <dd>
                <p>
                  Represents the total number of consent responses sent.
                </p>
              </dd>
            </dl>
          </section>
        </div>
        <section>
          <h3>
            <dfn>RTCStatsIceCandidatePairState</dfn> enum
          </h3>
          <div>
            <pre class="idl">enum RTCStatsIceCandidatePairState {
    "frozen",
    "waiting",
    "inprogress",
    "failed",
    "succeeded",
    "cancelled"
};</pre>
            <table data-link-for="RTCStatsIceCandidatePairState" data-dfn-for=
            "RTCStatsIceCandidatePairState" class="simple">
              <tbody>
                <tr>
                  <th colspan="2">
                    Enumeration description
                  </th>
                </tr>
                <tr>
                  <td>
                    <dfn><code>frozen</code></dfn>
                  </td>
                  <td>
                    <p>
                      Defined in Section 5.7.4 of [[!RFC5245]].
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <dfn><code>waiting</code></dfn>
                  </td>
                  <td>
                    <p>
                      Defined in Section 5.7.4 of [[!RFC5245]].
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <dfn><code>inprogress</code></dfn>
                  </td>
                  <td>
                    <p>
                      Defined in Section 5.7.4 of [[!RFC5245]].
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <dfn><code>failed</code></dfn>
                  </td>
                  <td>
                    <p>
                      Defined in Section 5.7.4 of [[!RFC5245]].
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <dfn><code>succeeded</code></dfn>
                  </td>
                  <td>
                    <p>
                      Defined in Section 5.7.4 of [[!RFC5245]].
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <dfn><code>cancelled</code></dfn>
                  </td>
                  <td>
                    <p>
                      Defined in Section 5.7.4 of [[!RFC5245]].
                    </p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </section>
      <section id="certificatestats-dict*">
        <h3>
          RTCCertificateStats dictionary
        </h3>
        <div>
          <pre class="idl">dictionary RTCCertificateStats : RTCStats {
             DOMString fingerprint;
             DOMString fingerprintAlgorithm;
             DOMString base64Certificate;
             DOMString issuerCertificateId;
};</pre>
          <section>
            <h2>
              Dictionary <a class="idlType">RTCCertificateStats</a> Members
            </h2>
            <dl data-link-for="RTCCertificateStats" data-dfn-for="RTCCertificateStats" class=
            "dictionary-members">
              <dt>
                <dfn><code>fingerprint</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  Only use the fingerprint value as defined in Section 5 of [[!RFC4572]].
                </p>
              </dd>
              <dt>
                <dfn><code>fingerprintAlgorithm</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  For instance, "sha-256".
                </p>
              </dd>
              <dt>
                <dfn><code>base64Certificate</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd>
                <p>
                  For example, DER-encoded, base-64 representation of a certifiate.
                </p>
              </dd>
              <dt>
                <dfn><code>issuerCertificateId</code></dfn> of type <span class=
                "idlMemberType"><a>DOMString</a></span>
              </dt>
              <dd></dd>
            </dl>
          </section>
        </div>
      </section>
    </section>
    <section>
      <h3>
        Example
      </h3>
      <p>
        Consider the case where the user is experiencing bad sound and the application wants to
        determine if the cause of it is packet loss. The following example code might be used:
      </p>
      <pre class="example highlight">var baselineReport, currentReport;
var selector = pc.getRemoteStreams()[0].getAudioTracks()[0];

pc.getStats(selector, function (report) {
    baselineReport = report;
}, logError);

// ... wait a bit
setTimeout(function () {
    pc.getStats(selector, function (report) {
        currentReport = report;
        processStats();
    }, logError);
}, aBit);

function processStats() {
    // compare the elements from the current report with the baseline
    for (var i in currentReport) {
        var now = currentReport[i];
        if (now.type != "outbund-rtp")
            continue;

        // get the corresponding stats from the baseline report
        base = baselineReport[now.id];

        if (base) {
            remoteNow = currentReport[now.associateStatsId];
            remoteBase = baselineReport[base.associateStatsId];

            var packetsSent = now.packetsSent - base.packetsSent;
            var packetsReceived = remoteNow.packetsReceived - remoteBase.packetsReceived;

            // if fractionLost is &gt; 0.3, we have probably found the culprit
            var fractionLost = (packetsSent - packetsReceived) / packetsSent;
        }
    }
}

function logError(error) {
    log(error.name + ": " + error.message);
}
</pre>
    </section>
    <section>
      <h3>
        Security Considerations
      </h3>
      <p>
        Some stats identifiers may expose personally identifiable information, for example the IP
        addresses of the participating endpoints when a TURN relay is not used.
        <!-- TODO: add guidance on how to not expose this information? -->
      </p>
    </section>
    <section id="change-log*">
      <h2>
        Change Log
      </h2>
      <p>
        This section will be removed before publication.
        The entries are in reverse chronological order.
      </p>
      <section id="since-23-oct-2015*">
        <h3>
          Changes since 23 October 2015
        </h3>
        <ul>
          <li>[#18] Updated spec changes.
          </li>
          <li>[#17] Changed "remoteId" to "associateStatsId".
          </li>
          <li>[#8] Ended and detached stats for a track.
          </li>
          <li>[#33] Added the codec "implementation" variable.
          </li>
          <li>[#34]Converted to WebIDL contiguious mode.
          </li>
          <li>[#36] Aligned RTCIceCandidateStats with RTCIceCandidate.
          </li>
          <li>[#24] Added packetsDiscarded and packetsRepaired to stats.
          </li>
          <li>[#13] Aligned bitrate to the TIAS definition.
          </li>
          <li>[#47] Changed RTCCodec to RTCCodecStats
          </li>
          <li>Various formatting, layout and link fixes.
          </li>
        </ul>
      </section>
      <section id="since-3-feb-2015*">
        <h3>
          Changes since 03 February 2015
        </h3>
        <ol>
          <li>[#10] Added RTCRTPStreamStats.mediaType.
          </li>
        </ol>
      </section>
      <section id="since-30-Sept-2014*">
        <h3>
          Changes since 30 September 2014
        </h3>
        <ol>
          <li>kept getStats() in webrtc-pc. Changed RTCStatsType from enum to DOMString.
          </li>
          <li>Added "datachannel" to RTCStatsType.
          </li>
          <li>Added fractionLost to RTCInboundRTPStreamStats.
          </li>
          <li>Clarified that bytesSent and bytesReceived do no include headers or paddings.
          </li>
        </ol>
      </section>
      <section class="appendix">
        <h2>
          Acknowledgements
        </h2>
        <p>
          The editors wish to thank the Working Group chairs, Stefan Håkansson, and Team Contact,
          Dominique Hazaël-Massieux, for their support. The editors would like to thank Cullen
          Jennings for their contributions to this specification.
        </p>
      </section>
    </section>
  </body>
</html>
